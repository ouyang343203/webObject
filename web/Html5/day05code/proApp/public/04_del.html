<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>删除商品信息</title>
	</head>
	<body>
		<!--  -->
	<span id="msg">页面已加载完成，立即删除指定过的id商品数据</span>
	<!-- ajax方式打开html文件： 使用自己的IP端口号静态托管HTML方式反问自己服务器上的HTML 不建议通过直接commd+r直接运行或者进到项目目录里面的去打开 -->
	<!-- 访问地址http://127.0.0.1:8080/04_del.html -->
	<!-- 注意script标签里面是js的代码 里面的注释是 //斜杆注释-->
	<script>
	window.onload = function(){
		
		/*// window.alert('页面已加载完成，立即删除指定过的id商品数据')
			// AJAX四部曲
			// 1.创建发送异步请求的xmr对象(即创建骑手)
			let xhr = new XMLHttpRequest()
					
			// 2.访问对应的server文件指定接口地址去获取数据 xrh.open("请求方法","请求地址") 这个地址是路由设置的获取所有datajson.js文件中的数据库
			xhr.open('DELETE','http://127.0.0.1:8080/v2/pro2/del?id=3')//这里是用问好的方式
			//如果是POST设置请求头
			// xhr.setRequestHeader('Content-type','application/x-www-form-urlencoded;charset=utf-8')
			
			// 3.接受到返回数据的处理
			xhr.onload = function(){
			   let result = xhr.responseText
			   console.log(result)
			   msg.innerHTML=result
			}
			
			// 4.发送请求get给接口
			xhr.send()
			
			// 注意:如果是post请求需要有请求内容参数
			// xhr.send('id=lid.valuse') //例如xhr.send('usename=tome&pwd=123')
			*/
			
			// ==================================用斜杆的方式来测试删除商品的接口===========================================
		    // AJAX四部曲
			// 1.创建发送异步请求的xmr对象(即创建骑手)
			let xhr = new XMLHttpRequest()
					
			// 2.访问对应的server文件指定接口地址去获取数据 xrh.open("请求方法","请求地址") 这个地址是路由设置的获取所有datajson.js文件中的数据库
			xhr.open('DELETE','http://127.0.0.1:8080/v2/pro2/del2/5')//用斜杆的方式
			//如果是POST设置请求头
			// xhr.setRequestHeader('Content-type','application/x-www-form-urlencoded;charset=utf-8')
			
			// 3.接受到返回数据的处理
			xhr.onload = function(){
			   let result = xhr.responseText
			   console.log(result)
			   msg.innerHTML=result
			}
			
			// 4.发送请求get给接口
			xhr.send()
    }
	</script>	
	</body>
</html>