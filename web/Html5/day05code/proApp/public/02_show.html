<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>展示所有商品数据</title>
	</head>
	<body>
		<!--  -->
	<h3>请在输入框中输入您要查询的商品编号(id)值</h3>
    <input type="text" id="lid"><br>
    <span id="msg">用来显示查询到的商品信息</span>
	<!-- ajax方式打开html文件： 使用自己的IP端口号静态托管HTML方式反问自己服务器上的HTML 不建议通过直接commd+r直接运行或者进到项目目录里面的去打开 -->
	<!-- 访问地址http://127.0.0.1:8080/02_show.html -->
	<!-- 注意script标签里面是js的代码 里面的注释是 //斜杆注释-->
	<script>
		// 给输入框绑定获得焦点事件 只要点击输入框就会触发这个地方
		// lid.onfocus = function(){
		// console.log(lid.value)
		// 	// AJAX四部曲
		// 	// 1.创建发送异步请求的xmr对象(即创建骑手)
		// 	let xhr = new XMLHttpRequest()
					
		// 	// 2.访问对应的server文件指定接口地址去获取数据 xrh.open("请求方法","请求地址") 这个地址是路由设置的获取所有datajson.js文件中的数据库
		// 	xhr.open('GET','http://127.0.0.1:8080/v2/pro2/show2?id='+lid.value)
		// 	//如果是POST设置请求头
		// 	// xhr.setRequestHeader('Content-type','application/x-www-form-urlencoded;charset=utf-8')
			
		// 	// 3.接受到返回数据的处理
		// 	xhr.onload = function(){
		// 	let result = xhr.responseText
		// 	console.log(result)
		// 	msg.innerHTML=result
		// 	}
			
		// 	// 4.发送请求get给接口
		// 	xhr.send()
			
		// 	// 注意:如果是post请求需要有请求内容参数
		// 	// xhr.send('id=lid.valuse') //例如xhr.send('usename=tome&pwd=123')	
		// }
		// 给输入框绑定失去焦点事件 只要点击输入框意外的地方地方就会触发这个地方
		lid.onblur = function(){ //
			console.log(lid.value)
			// AJAX四部曲
			// 1.创建发送异步请求的xmr对象(即创建骑手)
			let xhr = new XMLHttpRequest()
					
			// 2.访问对应的server文件指定接口地址去获取数据 xrh.open("请求方法","请求地址") 这个地址是路由设置的获取所有datajson.js文件中的数据库
			xhr.open('GET','http://127.0.0.1:8080/v2/pro2/show2?id='+lid.value)
			//如果是POST设置请求头
			// xhr.setRequestHeader('Content-type','application/x-www-form-urlencoded;charset=utf-8')
			
			// 3.接受到返回数据的处理
			xhr.onload = function(){
			   let result = xhr.responseText
			   console.log(result)
			   msg.innerHTML=result
			}
			
			// 4.发送请求get给接口
			xhr.send()
			
			// 注意:如果是post请求需要有请求内容参数
			// xhr.send('id=lid.valuse') //例如xhr.send('usename=tome&pwd=123')
		}
	</script>	
	</body>
</html>